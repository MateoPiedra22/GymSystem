[build]
builder = "DOCKERFILE"

[deploy]
startCommand = "python -m uvicorn backend.app.main:app --host 0.0.0.0 --port $PORT"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[environments.production]
variables = {
  ENVIRONMENT = "production",
  DEBUG = "false",
  PROJECT_NAME = "GymSystem",
  DATABASE_URL = "${{ Postgres.DATABASE_URL }}",
  SECRET_KEY = "${{ secrets.SECRET_KEY }}",
  ALLOWED_ORIGINS = "https://your-frontend-domain.vercel.app,http://localhost:3000,http://localhost:5173"
}

[environments.development]
variables = {
  ENVIRONMENT = "development",
  DEBUG = "true",
  PROJECT_NAME = "GymSystem-Dev"
}