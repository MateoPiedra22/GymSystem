{
  "phase4_config": {
    "description": "Configuración para Fase 4: Testing y QA - Sistema de Gimnasio v6",
    "version": "1.0.0",
    "timestamp": "2024-01-15T10:00:00Z",
    
    "test_categories": {
      "backend": {
        "enabled": true,
        "description": "Tests del backend (seguridad, performance, integración, usabilidad, carga)",
        "timeout": 1800,
        "parallel": false,
        "coverage_threshold": 80
      },
      "frontend": {
        "enabled": true,
        "description": "Tests del frontend (linting, unit tests, build)",
        "timeout": 600,
        "parallel": false,
        "coverage_threshold": 70
      },
      "security": {
        "enabled": true,
        "description": "Auditoría de seguridad completa",
        "timeout": 900,
        "parallel": false,
        "tools": ["bandit", "safety", "semgrep"]
      },
      "performance": {
        "enabled": true,
        "description": "Tests de performance y carga",
        "timeout": 1200,
        "parallel": false,
        "load_test_users": 100,
        "load_test_duration": 300
      },
      "integration": {
        "enabled": true,
        "description": "Tests de integración completa del sistema",
        "timeout": 900,
        "parallel": false,
        "docker_required": true
      },
      "quality": {
        "enabled": true,
        "description": "Verificaciones de calidad de código",
        "timeout": 300,
        "parallel": false,
        "tools": ["black", "mypy", "radon"]
      }
    },
    
    "test_suites": {
      "security_tests": {
        "test_security_config": true,
        "test_rate_limiter": true,
        "test_password_validator": true,
        "test_file_validator": true,
        "test_security_auditor": true,
        "test_security_middleware": true,
        "test_security_utilities": true,
        "test_security_integration": true
      },
      "performance_tests": {
        "test_performance_config": true,
        "test_advanced_cache": true,
        "test_query_optimizer": true,
        "test_response_optimizer": true,
        "test_performance_monitor": true,
        "test_performance_middleware": true,
        "test_performance_utilities": true,
        "test_performance_integration": true
      },
      "integration_tests": {
        "test_authentication_integration": true,
        "test_user_management_integration": true,
        "test_asistencia_integration": true,
        "test_clase_integration": true,
        "test_empleado_integration": true,
        "test_pago_integration": true,
        "test_reportes_integration": true,
        "test_error_handling_integration": true,
        "test_performance_integration": true,
        "test_security_integration": true
      },
      "usability_tests": {
        "test_user_interface_usability": true,
        "test_workflow_usability": true,
        "test_data_validation_usability": true,
        "test_search_and_filter_usability": true,
        "test_error_recovery_usability": true,
        "test_performance_usability": true,
        "test_accessibility_usability": true,
        "test_documentation_usability": true
      },
      "load_tests": {
        "test_concurrent_requests": true,
        "test_database_load": true,
        "test_memory_load": true,
        "test_network_load": true,
        "test_stress_testing": true,
        "test_recovery_testing": true
      }
    },
    
    "ci_cd_pipeline": {
      "enabled": true,
      "github_actions": true,
      "docker_build": true,
      "security_scanning": true,
      "deployment": {
        "staging": true,
        "production": true
      },
      "notifications": {
        "email": false,
        "slack": false,
        "webhook": false
      }
    },
    
    "quality_gates": {
      "minimum_success_rate": 90,
      "minimum_coverage": 80,
      "maximum_complexity": 10,
      "security_score_threshold": 8.0,
      "performance_thresholds": {
        "response_time_p95": 2000,
        "throughput_min": 100,
        "error_rate_max": 1.0
      }
    },
    
    "reporting": {
      "generate_html_report": true,
      "generate_json_report": true,
      "generate_junit_xml": true,
      "upload_to_artifacts": true,
      "send_notifications": false
    },
    
    "environments": {
      "test": {
        "database_url": "postgresql://postgres:postgres@localhost:5432/gym_test",
        "redis_url": "redis://localhost:6379",
        "secret_key": "test-secret-key",
        "debug": true
      },
      "staging": {
        "database_url": "postgresql://postgres:postgres@staging-db:5432/gym_staging",
        "redis_url": "redis://staging-redis:6379",
        "secret_key": "${STAGING_SECRET_KEY}",
        "debug": false
      },
      "production": {
        "database_url": "postgresql://postgres:postgres@prod-db:5432/gym_production",
        "redis_url": "redis://prod-redis:6379",
        "secret_key": "${PROD_SECRET_KEY}",
        "debug": false
      }
    },
    
    "docker_config": {
      "build_args": {
        "PYTHON_VERSION": "3.11",
        "NODE_VERSION": "18"
      },
      "services": ["postgres", "redis", "nginx"],
      "health_checks": true,
      "resource_limits": {
        "memory": "2G",
        "cpu": "1.0"
      }
    },
    
    "monitoring": {
      "enabled": true,
      "prometheus": true,
      "grafana": true,
      "alerting": true,
      "metrics": [
        "response_time",
        "throughput",
        "error_rate",
        "memory_usage",
        "cpu_usage",
        "database_connections"
      ]
    },
    
    "security_config": {
      "vulnerability_scanning": true,
      "dependency_checking": true,
      "code_analysis": true,
      "container_scanning": true,
      "secrets_scanning": true,
      "compliance_checks": {
        "owasp_top_10": true,
        "cis_benchmarks": true,
        "nist_framework": true
      }
    },
    
    "performance_config": {
      "load_testing": {
        "tool": "locust",
        "users": 100,
        "spawn_rate": 10,
        "duration": 300
      },
      "stress_testing": {
        "max_users": 500,
        "duration": 600
      },
      "endurance_testing": {
        "users": 50,
        "duration": 3600
      },
      "spike_testing": {
        "base_users": 20,
        "spike_users": 200,
        "duration": 300
      }
    },
    
    "test_data": {
      "generate_test_data": true,
      "data_size": {
        "users": 1000,
        "empleados": 50,
        "clases": 100,
        "asistencias": 5000,
        "pagos": 2000
      },
      "cleanup_after_tests": true
    },
    
    "parallel_execution": {
      "enabled": false,
      "max_workers": 4,
      "categories": ["backend", "frontend", "security"]
    },
    
    "retry_config": {
      "max_retries": 3,
      "retry_delay": 5,
      "exponential_backoff": true
    },
    
    "notifications": {
      "success": {
        "enabled": true,
        "channels": ["console", "file"]
      },
      "failure": {
        "enabled": true,
        "channels": ["console", "file", "email"]
      },
      "warning": {
        "enabled": true,
        "channels": ["console", "file"]
      }
    },
    
    "artifacts": {
      "save_reports": true,
      "save_logs": true,
      "save_coverage": true,
      "save_performance_data": true,
      "retention_days": 30
    },
    
    "execution_order": [
      "quality",
      "security",
      "backend",
      "frontend",
      "performance",
      "integration"
    ],
    
    "skip_conditions": {
      "if_docker_unavailable": ["integration"],
      "if_database_unavailable": ["backend", "integration"],
      "if_redis_unavailable": ["backend", "performance"],
      "if_network_issues": ["performance", "integration"]
    }
  }
} 